if(window.Rainbow&&!window.Rainbow.linenumbers){window.Rainbow.linenumbers=(function(a){var b=true;a.onHighlight(function(k){var m=parseInt,g=k.innerHTML.split("\n").length,t=k.getAttribute("data-line")<<0,D=t>=0,v=g===0?1:(Math.log(g)/2.303<<0)+1,y=g,z=k.parentNode,o=z.nodeName=="PRE",h=function(i){return i.currentStyle||(document.defaultView&&document.defaultView.getComputedStyle(i,null))||i.style},n=h(k),A=h(z),j=m(n.lineHeight),p=m(A.paddingTop)+m(n.marginTop)+m(n.paddingTop),e=document.createElement("canvas"),B=e.getContext("2d"),r=document.createElement("canvas"),C=r.getContext("2d"),x,w=5,l=document.createElement("div"),d=l.style,f={font:n.font,width:"auto",display:"inline-block"};l.appendChild(document.createTextNode(new Array(1<<w).join("a")+"a"));for(var q in f){d[q]=f[q]}document.body.appendChild(l);x=l.offsetWidth>>w;if(isNaN(j)){j=l.offsetHeight}document.body.removeChild(l);e.setAttribute("width",v*x);e.setAttribute("height",(1+g)*j);B.font=n.fontSize+" "+n.fontFamily;B.fillStyle=A.color;B.textBaseline="bottom";while(y--){var c=g-y;B.fillText((t+c-1)+"",0,c*j)}r.setAttribute("width",1);r.setAttribute("height",j);C.fillStyle=A.borderColor;C.fillRect(0,j-1,1,1);if(o){var u=A.backgroundColor;if(b){u="url("+r.toDataURL()+") 0 "+p+"px,"+u}if(D){u="url("+e.toDataURL()+") "+x+"px "+p+"px no-repeat,"+u;z.style.paddingLeft=(parseInt(A.paddingLeft)+x*(v+1))+"px"}z.style.background=u}});return{toString:function(){return"[Object Rainbow.linenumbers]"}}})(window.Rainbow)};